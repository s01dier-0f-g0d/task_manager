{% extends 'main.html' %}

{% block content %}
<div class="container glass-container">
    <form method="GET" class="search-container">
        <input type="text" name="q" placeholder="Search tasks..." value="{{ request.GET.q }}" class="search-input" />
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

    <div class="d-flex justify-content-center mb-4">
        <a href="{% url 'createprior' %}" class="btn btn-primary pulse">Create New Priority</a>
    </div>

    <div class="task-grid">
        {% for i in data %}
        <div class="task-card animate-fade-in">
            <div class="task-header">
                <h3 class="task-title">{{ i.name }}</h3><br><br>
                <a href="{% url 'updateprior' i.id %}" class="btn btn-warning">Edit</a>
                <a href="{% url 'deleteprior' i.id %}" class="btn btn-danger">Delete</a>
            </div>
        </div>
        {% empty %}
        <div class="text-center">
            <p>No Priority Categories found. <a href="{% url 'createprior' %}" class="btn btn-primary">Create your first Priority Category!</a></p>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}